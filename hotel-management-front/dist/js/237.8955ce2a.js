"use strict";(self["webpackChunkvue_hotel_management_project"]=self["webpackChunkvue_hotel_management_project"]||[]).push([[237],{8763:function(e,t,l){l.d(t,{Z:function(){return f}});const a="http://localhost:8080",r=20011,o=20021,n=20031,s=20041,i=20010,c=20020,p=20030,u=20040;var b,m,h={serverSrc:a,SAVE_OK:r,DELETE_OK:o,UPDATE_OK:n,GET_OK:s,SAVE_ERR:i,DELETE_ERR:c,UPDATE_ERR:p,GET_ERR:u},d=h,g=l(3736),v=(0,g.Z)(d,b,m,!1,null,null,null),f=v.exports},6237:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{staticStyle:{"font-size":"24px","margin-bottom":"12px"},attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("报表管理")]),t("el-breadcrumb-item",[e._v("入住客人报表")])],1),t("el-row",{staticStyle:{"margin-bottom":"12px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:2}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkInReportDialogVisible=!0}}},[e._v("打印报表")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"入住单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipId",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"arriveTime",label:"抵店时间"}}),t("el-table-column",{attrs:{prop:"leaveTime",label:"离店时间"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"联系电话"}})],1),t("el-dialog",{attrs:{title:"打印入住客人报表",visible:e.checkInReportDialogVisible,"show-close":"false",fullscreen:"",center:""},on:{"update:visible":function(t){e.checkInReportDialogVisible=t}}},[t("el-table",{staticStyle:{"margin-bottom":"24px",width:"80% text-align: -webkit-center"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"入住单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipId",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"arriveTime",label:"抵店时间"}}),t("el-table-column",{attrs:{prop:"leaveTime",label:"离店时间"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"联系电话"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.checkInReportDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.printpage}},[e._v("打 印")])],1)],1)],1)},r=[],o=l(6265),n=l.n(o),s=l(8763),i={mounted(){n()({method:"post",url:s.Z.serverSrc+"/login/currentUser",headers:{"Content-Type":"text/plain"},data:window.sessionStorage.getItem("token")}).then((e=>{this.currentUserName=e.data.userName,this.currentUserType=e.data.userType,"管理员"!=this.currentUserType&&"经理"!=this.currentUserType&&(alert(this.currentUserType+"没有此权限"),this.$router.push("/homePage"))})),this.getAllCheckInInfos()},methods:{getAllCheckInInfos(){var e=this;n().get(s.Z.serverSrc+"/checkInInfos").then((t=>{t.data.code==s.Z.GET_OK?e.tableData=t.data.data:alert(t.data.msg)}))},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){console.log(`当前页: ${e}`)},printpage(){window.print()}},data(){return{currentUserName:"",currentUserType:"",checkInReportDialogVisible:!1,form:{startDate:"",endDate:""},tableData:[],showClose:!0}}},c=i,p=l(3736),u=(0,p.Z)(c,a,r,!1,null,null,null),b=u.exports}}]);
//# sourceMappingURL=237.8955ce2a.js.map