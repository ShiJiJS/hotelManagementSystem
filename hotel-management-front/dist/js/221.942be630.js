"use strict";(self["webpackChunkvue_hotel_management_project"]=self["webpackChunkvue_hotel_management_project"]||[]).push([[221],{8763:function(e,t,o){o.d(t,{Z:function(){return v}});const s="http://localhost:8080",r=20011,i=20021,n=20031,a=20041,l=20010,g=20020,m=20030,c=20040;var u,p,d={serverSrc:s,SAVE_OK:r,DELETE_OK:i,UPDATE_OK:n,GET_OK:a,SAVE_ERR:l,DELETE_ERR:g,UPDATE_ERR:m,GET_ERR:c},f=d,_=o(3736),h=(0,_.Z)(f,u,p,!1,null,null,null),v=h.exports},1221:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_container"},[t("el-header",[t("el-row",[t("el-col",{attrs:{span:6}},[t("span",[e._v("大家好！是我，米老鼠！")])]),t("el-col",{attrs:{span:12}},[t("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.logoURL,alt:""}}),t("span",[e._v("米奇妙妙酒店")]),t("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.logoURL,alt:""}})]),t("el-col",{attrs:{span:6}},[t("span",[e._v("對了，要不要管理我的妙妙酒店")])])],1)],1),e._m(0),t("div",{staticClass:"login_box"},[t("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{rules:e.loginFormRules,"label-width":"0px",model:e.loginForm}},[t("el-form-item",{attrs:{prop:"userName"}},[t("el-input",{attrs:{"prefix-icon":"iconfont icon-user"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","prefix-icon":"iconfont icon-3702mima"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary",loading:e.loginLoading},on:{click:e.login}},[e._v("“米斯卡，慕斯卡，米老鼠！”")]),t("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重新唸")])],1)],1)],1)],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome"},[t("span",[t("p",[e._v("哦！我差一點忘記了，要管理妙妙酒店")])]),t("span",[t("p",[e._v("我們必須要唸奇妙的咒語")])])])}],i=o(8763),n={name:"loginPage",data(){return{logoURL:o(6949),loginLoading:!1,loginForm:{userName:"",password:""},loginFormRules:{userName:[{required:!0,message:"请输入登录名称",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}]}}},methods:{resetLoginForm(){this.$refs.loginFormRef.resetFields()},login(){this.loginLoading=!0,this.$refs.loginFormRef.validate((async e=>{if(!e)return this.loginLoading=!1;const{data:t}=await this.$http.post(i.Z.serverSrc+"/login",this.loginForm);return 201==t.meta.status?(this.loginLoading=!1,this.$message.error("登录失败,没有查找到此用户")):202==t.meta.status?(this.loginLoading=!1,this.$message.error("登录失败,密码错误!")):(this.$message.success("登录成功!"),window.sessionStorage.setItem("token",t.data.token),this.$router.push("homePage"),void(this.loginLoading=!1))}))}}},a=n,l=o(3736),g=(0,l.Z)(a,s,r,!1,null,"79e2a3a4",null),m=g.exports},6949:function(e,t,o){e.exports=o.p+"img/logo.a3b04ad9.png"}}]);
//# sourceMappingURL=221.942be630.js.map