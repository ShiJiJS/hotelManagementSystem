{"version":3,"file":"js/221.942be630.js","mappings":"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","sources":["webpack://vue-hotel-management-project/src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue?498f","webpack://vue-hotel-management-project/./src/components/loginPage.vue","webpack://vue-hotel-management-project/src/components/loginPage.vue","webpack://vue-hotel-management-project/./src/components/loginPage.vue?9a6e","webpack://vue-hotel-management-project/./src/components/loginPage.vue?01e0"],"sourcesContent":["<script>\r\nconst serverSrc = 'http://localhost:8080'\r\nconst SAVE_OK = 20011\r\nconst DELETE_OK = 20021\r\nconst UPDATE_OK = 20031\r\nconst GET_OK = 20041\r\n\r\nconst SAVE_ERR = 20010\r\nconst DELETE_ERR = 20020\r\nconst UPDATE_ERR = 20030\r\nconst GET_ERR = 20040\r\n\r\nexport default {\r\n  serverSrc,\r\n  SAVE_OK,\r\n  DELETE_OK,\r\n  UPDATE_OK,\r\n  GET_OK,\r\n  SAVE_ERR,\r\n  DELETE_ERR,\r\n  UPDATE_ERR,\r\n  GET_ERR,\r\n}\r\n</script>","var render, staticRenderFns\nimport script from \"./globalVar.vue?vue&type=script&lang=js&\"\nexport * from \"./globalVar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login_container\"},[_c('el-header',[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('span',[_vm._v(\"大家好！是我，米老鼠！\")])]),_c('el-col',{attrs:{\"span\":12}},[_c('img',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"src\":_vm.logoURL,\"alt\":\"\"}}),_c('span',[_vm._v(\"米奇妙妙酒店\")]),_c('img',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"src\":_vm.logoURL,\"alt\":\"\"}})]),_c('el-col',{attrs:{\"span\":6}},[_c('span',[_vm._v(\"對了，要不要管理我的妙妙酒店\")])])],1)],1),_vm._m(0),_c('div',{staticClass:\"login_box\"},[_c('el-form',{ref:\"loginFormRef\",staticClass:\"login_form\",attrs:{\"rules\":_vm.loginFormRules,\"label-width\":\"0px\",\"model\":_vm.loginForm}},[_c('el-form-item',{attrs:{\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"iconfont icon-user\"},model:{value:(_vm.loginForm.userName),callback:function ($$v) {_vm.$set(_vm.loginForm, \"userName\", $$v)},expression:\"loginForm.userName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"prefix-icon\":\"iconfont icon-3702mima\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loginLoading},on:{\"click\":_vm.login}},[_vm._v(\"“米斯卡，慕斯卡，米老鼠！”\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.resetLoginForm}},[_vm._v(\"重新唸\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"welcome\"},[_c('span',[_c('p',[_vm._v(\"哦！我差一點忘記了，要管理妙妙酒店\")])]),_c('span',[_c('p',[_vm._v(\"我們必須要唸奇妙的咒語\")])])])\n}]\n\nexport { render, staticRenderFns }","<!--大部分从网上COPY的，很多功能还没对接，但是请求Token验证应该要写在main.js里头,跳转仍然在router里 2022/08/22 by Daniel Li-->\r\n<!--登录功能完成 2022/08/27 by Daniel Li-->\r\n<template>\r\n  <div class=\"login_container\">\r\n    <el-header>\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <span>大家好！是我，米老鼠！</span>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <img :src=\"logoURL\" alt=\"\" style=\"vertical-align: middle\" />\r\n          <span>米奇妙妙酒店</span>\r\n          <img :src=\"logoURL\" alt=\"\" style=\"vertical-align: middle\" />\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <span>對了，要不要管理我的妙妙酒店</span>\r\n        </el-col>\r\n      </el-row>\r\n    </el-header>\r\n    <div class=\"welcome\">\r\n      <span><p>哦！我差一點忘記了，要管理妙妙酒店</p></span>\r\n      <span><p>我們必須要唸奇妙的咒語</p></span>\r\n    </div>\r\n    <div class=\"login_box\">\r\n      <!--表单提交区域-->\r\n      <el-form :rules=\"loginFormRules\" ref=\"loginFormRef\" label-width=\"0px\" class=\"login_form\" :model=\"loginForm\">\r\n        <!--用户名-->\r\n        <el-form-item prop=\"userName\">\r\n          <el-input v-model=\"loginForm.userName\" prefix-icon=\"iconfont icon-user\"></el-input>\r\n        </el-form-item>\r\n        <!--密码-->\r\n        <el-form-item prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"loginForm.password\" prefix-icon=\"iconfont icon-3702mima\"></el-input>\r\n        </el-form-item>\r\n        <!--按钮区-->\r\n        <el-form-item class=\"btns\">\r\n          <el-button type=\"primary\" @click=\"login\" :loading=\"loginLoading\">“米斯卡，慕斯卡，米老鼠！”</el-button>\r\n          <el-button type=\"info\" @click=\"resetLoginForm\">重新唸</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport global_ from \"./globalVar.vue\";\r\nexport default {\r\n  name: \"loginPage\",\r\n  data() {\r\n    return {\r\n      logoURL: require(\"../assets/logo.png\"),\r\n      loginLoading: false, // 登录限制\r\n      loginForm: {\r\n        // 登录的表单数据的绑定对象\r\n        userName: \"\",\r\n        password: \"\",\r\n      },\r\n      loginFormRules: {\r\n        // 验证用户名是否合法\r\n        userName: [{ required: true, message: \"请输入登录名称\", trigger: \"blur\" }],\r\n        // 验证密码是否合法\r\n        password: [{ required: true, message: \"请输入登录密码\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    resetLoginForm() {\r\n      // 点击重置按钮,重置登录表单\r\n      // this.$refs[loginFormRef].resetFields()\r\n      this.$refs.loginFormRef.resetFields();\r\n    },\r\n    login() {\r\n      this.loginLoading = true;\r\n      this.$refs.loginFormRef.validate(async (valid) => {\r\n        if (!valid) {\r\n          return (this.loginLoading = false);\r\n        }\r\n        const { data: res } = await this.$http.post(global_.serverSrc + \"/login\", this.loginForm);\r\n        if (res.meta.status == 201) {\r\n          this.loginLoading = false;\r\n          return this.$message.error(\"登录失败,没有查找到此用户\");\r\n        } else if (res.meta.status == 202) {\r\n          this.loginLoading = false;\r\n          return this.$message.error(\"登录失败,密码错误!\");\r\n        }\r\n        this.$message.success(\"登录成功!\");\r\n        // 1. 将登录成功之后的 token,保存到客户端的 sessionStorage(会话机制/只在当前页面生效)中 localStorage(持久话机制/关闭页面也不会忘记数据)\r\n        //   1.1 项目中除了登录之外的API接口,必须在登录之后才能访问\r\n        //   1.2 token 只应在当前网站打开期间生效, 所以将 token 保存在 sessionStorage中\r\n        window.sessionStorage.setItem(\"token\", res.data.token);\r\n        // 2. 通过编程式路由导航跳转到后台主页\r\n        this.$router.push(\"homePage\");\r\n        this.loginLoading = false;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login_container {\r\n  height: 100vh;\r\n  background-image: url(\"../assets/loginpagePic.png\");\r\n  background-color: #eeeeee;\r\n  background-repeat: no-repeat;\r\n  background-position: 50% 50%;\r\n  background-size: cover;\r\n}\r\n.el-header {\r\n  background-color: rgb(0, 0, 0);\r\n  // background-image: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);\r\n  color: rgb(255, 255, 255);\r\n  font-size: 30px;\r\n  line-height: 60px;\r\n  > div {\r\n    text-align: center;\r\n    img {\r\n      text-align: center;\r\n      width: 60px;\r\n      height: 60px;\r\n      margin-left: 32px;\r\n      margin-right: 32px;\r\n    }\r\n  }\r\n}\r\n.welcome {\r\n  margin-top: 10%;\r\n  color: rgb(255, 255, 255);\r\n  text-shadow: -1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000;\r\n  font-size: 32px;\r\n}\r\n.welcome span {\r\n  width: 100%;\r\n  margin: auto 0;\r\n  text-align: center;\r\n}\r\n.login_box {\r\n  margin: auto auto;\r\n  width: 450px;\r\n  height: 200px;\r\n  color: rgb(255, 255, 255);\r\n  .login_form {\r\n  }\r\n  .btns {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginPage.vue?vue&type=template&id=79e2a3a4&scoped=true&\"\nimport script from \"./loginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./loginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginPage.vue?vue&type=style&index=0&id=79e2a3a4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e2a3a4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["serverSrc","SAVE_OK","DELETE_OK","UPDATE_OK","GET_OK","SAVE_ERR","DELETE_ERR","UPDATE_ERR","GET_ERR","render","staticRenderFns","component","_vm","this","_c","_self","staticClass","attrs","_v","staticStyle","logoURL","_m","ref","loginFormRules","loginForm","model","value","userName","callback","$$v","$set","expression","password","loginLoading","on","login","resetLoginForm","name","data","required","message","trigger","methods","window"],"sourceRoot":""}