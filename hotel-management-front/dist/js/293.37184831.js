"use strict";(self["webpackChunkvue_hotel_management_project"]=self["webpackChunkvue_hotel_management_project"]||[]).push([[293],{8763:function(e,t,a){a.d(t,{Z:function(){return g}});const l="http://localhost:8080",r=20011,o=20021,n=20031,s=20041,c=20010,i=20020,p=20030,u=20040;var b,h,m={serverSrc:l,SAVE_OK:r,DELETE_OK:o,UPDATE_OK:n,GET_OK:s,SAVE_ERR:c,DELETE_ERR:i,UPDATE_ERR:p,GET_ERR:u},d=m,f=a(3736),I=(0,f.Z)(d,b,h,!1,null,null,null),g=I.exports},3648:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{staticStyle:{"font-size":"24px","margin-bottom":"12px"},attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("报表管理")]),t("el-breadcrumb-item",[e._v("财务进账报表")])],1),t("el-row",{staticStyle:{"margin-bottom":"12px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:2}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkInReportDialogVisible=!0}}},[e._v(" 打印报表 ")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"入住单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipID",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"actualReceivable",label:"付款金额"}}),t("el-table-column",{attrs:{prop:"paymentMethod",label:"进账方式"}}),t("el-table-column",{attrs:{prop:"type",label:"进账类型"}}),t("el-table-column",{attrs:{prop:"time",label:"进账时间"}})],1),t("el-dialog",{attrs:{title:"打印财务进账报表",visible:e.receiptsReportDialogVisible,fullscreen:"",center:""},on:{"update:visible":function(t){e.receiptsReportDialogVisible=t}}},[t("el-table",{staticStyle:{"margin-bottom":"24px",width:"80% text-align: -webkit-center"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"入住单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipID",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"actualReceivable",label:"付款金额"}}),t("el-table-column",{attrs:{prop:"paymentMethod",label:"进账方式"}}),t("el-table-column",{attrs:{prop:"type",label:"进账类型"}}),t("el-table-column",{attrs:{prop:"time",label:"进账时间"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.receiptsReportDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.printpage}},[e._v("打 印")])],1)],1)],1)},r=[],o=a(6265),n=a.n(o),s=a(8763),c={mounted(){n()({method:"post",url:s.Z.serverSrc+"/login/currentUser",headers:{"Content-Type":"text/plain"},data:window.sessionStorage.getItem("token")}).then((e=>{this.currentUserName=e.data.userName,this.currentUserType=e.data.userType,"管理员"!=this.currentUserType&&"经理"!=this.currentUserType&&(alert(this.currentUserType+"没有此权限"),this.$router.push("/homePage"))})),this.getTableData()},methods:{getTableData(){n().get(s.Z.serverSrc+"/checkOutInfos").then((e=>{e.data.code==s.Z.GET_OK?this.checkOutInfos=e.data.data:alert(e.data.msg),n().get(s.Z.serverSrc+"/checkInInfos").then((e=>{e.data.code==s.Z.GET_OK?this.checkInInfos=e.data.data:alert(e.data.msg),this.setTableData()}))}))},setTableData(){for(var e in this.checkOutInfos)for(var t in this.checkInInfos)if(this.checkOutInfos[e].id==this.checkInInfos[e].id){var a={};a.id=this.checkInInfos[e].id,a.roomNumber=this.checkInInfos[e].roomNumber,a.roomType=this.checkInInfos[e].roomType,a.personName=this.checkInInfos[e].personName,a.vipId=this.checkInInfos[e].vipId,a.actualReceivable=this.checkOutInfos[t].actualReceivable,a.paymentMethod=this.checkOutInfos[t].paymentMethod,a.time=this.checkInInfos[e].leaveTime,this.tableData.push(a)}},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){console.log(`当前页: ${e}`)},printpage(){window.print()}},data(){return{receiptsReportDialogVisible:!1,form:{startDate:"",endDate:""},tableData:[],checkOutInfos:[],checkInInfos:[],currentPage4:0,showClose:!0}}},i=c,p=a(3736),u=(0,p.Z)(i,l,r,!1,null,null,null),b=u.exports}}]);
//# sourceMappingURL=293.37184831.js.map