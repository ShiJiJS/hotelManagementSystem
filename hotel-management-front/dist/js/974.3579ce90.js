"use strict";(self["webpackChunkvue_hotel_management_project"]=self["webpackChunkvue_hotel_management_project"]||[]).push([[974],{8763:function(e,t,r){r.d(t,{Z:function(){return _}});const l="http://localhost:8080",a=20011,o=20021,n=20031,s=20041,i=20010,p=20020,u=20030,b=20040;var c,m,d={serverSrc:l,SAVE_OK:a,DELETE_OK:o,UPDATE_OK:n,GET_OK:s,SAVE_ERR:i,DELETE_ERR:p,UPDATE_ERR:u,GET_ERR:b},v=d,h=r(3736),g=(0,h.Z)(v,c,m,!1,null,null,null),_=g.exports},6974:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{staticStyle:{"font-size":"24px","margin-bottom":"12px"},attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("报表管理")]),t("el-breadcrumb-item",[e._v("预订客人报表")])],1),t("el-row",{staticStyle:{"margin-bottom":"12px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:2}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.reservationReportDialogVisible=!0}}},[e._v(" 打印报表 ")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"预订单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipId",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"arriveTime",label:"抵店时间"}}),t("el-table-column",{attrs:{prop:"leaveTime",label:"离店时间"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"联系电话"}})],1),t("el-dialog",{attrs:{title:"打印入住客人报表",visible:e.reservationReportDialogVisible,fullscreen:"",center:""},on:{"update:visible":function(t){e.reservationReportDialogVisible=t}}},[t("el-table",{staticStyle:{"margin-bottom":"24px",width:"80% text-align: -webkit-center"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"入住单号"}}),t("el-table-column",{attrs:{prop:"roomNumber",label:"客房编号"}}),t("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),t("el-table-column",{attrs:{prop:"personName",label:"入住人"}}),t("el-table-column",{attrs:{prop:"vipId",label:"会员编号"}}),t("el-table-column",{attrs:{prop:"arriveTime",label:"抵店时间"}}),t("el-table-column",{attrs:{prop:"leaveTime",label:"离店时间"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"联系电话"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.reservationReportDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.printpage}},[e._v("打 印")])],1)],1)],1)},a=[],o=r(6265),n=r.n(o),s=r(8763),i={mounted(){n()({method:"post",url:s.Z.serverSrc+"/login/currentUser",headers:{"Content-Type":"text/plain"},data:window.sessionStorage.getItem("token")}).then((e=>{this.currentUserName=e.data.userName,this.currentUserType=e.data.userType,"管理员"!=this.currentUserType&&"经理"!=this.currentUserType&&(alert(this.currentUserType+"没有此权限"),this.$router.push("/homePage"))})),this.getAllReservations()},methods:{getAllReservations(){var e=this;n().get(s.Z.serverSrc+"/reservations").then((t=>{t.data.code==s.Z.GET_OK?e.tableData=t.data.data:alert(t.data.msg)}))},printpage(){window.print()}},data(){return{reservationReportDialogVisible:!1,form:{startDate:"",endDate:""},tableData:[],input:"",currentPage4:0,deleteId:0,multipleSelection:[],searchForm:{},showClose:!0}}},p=i,u=r(3736),b=(0,u.Z)(p,l,a,!1,null,null,null),c=b.exports}}]);
//# sourceMappingURL=974.3579ce90.js.map