{"version":3,"file":"js/223.bc4d1162.js","mappings":"uLACA,MAAMA,EAAY,wBACZC,EAAU,MACVC,EAAY,MACZC,EAAY,MACZC,EAAS,MAETC,EAAW,MACXC,EAAa,MACbC,EAAa,MACbC,EAAU,MAEhB,ICZIC,EAAQC,EDYZ,GACAV,YACAC,UACAC,YACAC,YACAC,SACAC,WACAC,aACAC,aACAC,WErBuR,I,UDOnRG,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIF,EAAeC,EAAiB,O,mEElBhC,IAAIF,EAAS,WAAkB,IAAIG,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIM,QAAQ,IAAM,MAAMJ,EAAG,OAAO,CAACF,EAAIO,GAAG,+BAA+BP,EAAIQ,GAAG,GAAGN,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACO,IAAI,eAAeL,YAAY,aAAaC,MAAM,CAAC,MAAQL,EAAIU,eAAe,cAAc,MAAM,MAAQV,EAAIW,YAAY,CAACT,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,cAAc,sBAAsBO,MAAM,CAACC,MAAOb,EAAIW,UAAUG,SAAUC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIW,UAAW,WAAYK,EAAK,EAACE,WAAW,yBAAyB,GAAGhB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,cAAc,0BAA0BO,MAAM,CAACC,MAAOb,EAAIW,UAAUQ,SAAUJ,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIW,UAAW,WAAYK,EAAK,EAACE,WAAW,yBAAyB,GAAGhB,EAAG,eAAe,CAACE,YAAY,QAAQ,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,QAAUL,EAAIoB,cAAcC,GAAG,CAAC,MAAQrB,EAAIsB,QAAQ,CAACtB,EAAIO,GAAG,QAAQL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQgB,GAAG,CAAC,MAAQrB,EAAIuB,iBAAiB,CAACvB,EAAIO,GAAG,SAAS,IAAI,IAAI,IAAI,EAC7pC,EACGT,EAAkB,CAAC,WAAY,IAAIE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACF,EAAIO,GAAG,iCAC1H,G,UCiCD,GACAiB,KAAAA,YACAC,OACA,OACAnB,QAAAA,EAAAA,MACAc,cAAAA,EACAT,UAAAA,CAEAG,SAAAA,GACAK,SAAAA,IAEAT,eAAAA,CAEAI,SAAAA,CACA,CAAAY,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,SAGAT,SAAAA,CACA,CAAAO,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,UAIA,EACAC,QAAAA,CACAN,iBAGA,qCACA,EACAD,QACA,qBACA,4CACA,MACA,4BAEA,MAAAG,KAAAA,SAAA,gBACAK,EAAAA,EAAAA,UAAAA,SACA,gBAEA,2BACA,qBACA,sCACA,oBACA,qBACA,oCAEA,+BAIAC,OAAAA,eAAAA,QAAAA,QAAAA,EAAAA,KAAAA,OAEA,mCACA,yBAEA,IC3FuR,I,UCQnRhC,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,WACA,MAIF,EAAeC,EAAiB,O","sources":["webpack://vue-hotel-management-project/src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue?498f","webpack://vue-hotel-management-project/./src/components/loginPage.vue","webpack://vue-hotel-management-project/src/components/loginPage.vue","webpack://vue-hotel-management-project/./src/components/loginPage.vue?9a6e","webpack://vue-hotel-management-project/./src/components/loginPage.vue?01e0"],"sourcesContent":["<script>\r\nconst serverSrc = 'http://localhost:8080'\r\nconst SAVE_OK = 20011\r\nconst DELETE_OK = 20021\r\nconst UPDATE_OK = 20031\r\nconst GET_OK = 20041\r\n\r\nconst SAVE_ERR = 20010\r\nconst DELETE_ERR = 20020\r\nconst UPDATE_ERR = 20030\r\nconst GET_ERR = 20040\r\n\r\nexport default {\r\n  serverSrc,\r\n  SAVE_OK,\r\n  DELETE_OK,\r\n  UPDATE_OK,\r\n  GET_OK,\r\n  SAVE_ERR,\r\n  DELETE_ERR,\r\n  UPDATE_ERR,\r\n  GET_ERR,\r\n}\r\n</script>","var render, staticRenderFns\nimport script from \"./globalVar.vue?vue&type=script&lang=js&\"\nexport * from \"./globalVar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login_container\"},[_c('el-header',[_c('div',[_c('img',{attrs:{\"src\":_vm.logoURL,\"alt\":\"\"}}),_c('span',[_vm._v(\"大连理工大学大黑山五星级大酒店客房管理系统\")])])]),_vm._m(0),_c('div',{staticClass:\"login_box\"},[_c('el-form',{ref:\"loginFormRef\",staticClass:\"login_form\",attrs:{\"rules\":_vm.loginFormRules,\"label-width\":\"0px\",\"model\":_vm.loginForm}},[_c('el-form-item',{attrs:{\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"iconfont icon-user\"},model:{value:(_vm.loginForm.userName),callback:function ($$v) {_vm.$set(_vm.loginForm, \"userName\", $$v)},expression:\"loginForm.userName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"prefix-icon\":\"iconfont icon-3702mima\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loginLoading},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.resetLoginForm}},[_vm._v(\"重置\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"welcome\"},[_c('span',[_vm._v(\"欢迎来到大连理工大学大黑山五星级大酒店客房管理系统!\")])])\n}]\n\nexport { render, staticRenderFns }","<!--大部分从网上COPY的，很多功能还没对接，但是请求Token验证应该要写在main.js里头,跳转仍然在router里 2022/08/22 by Daniel Li-->\n<!--登录功能完成 2022/08/27 by Daniel Li-->\n<template>\n  <div class=\"login_container\">\n    <el-header>\n      <div>\n        <img :src=logoURL alt=\"\" />\n        <span>大连理工大学大黑山五星级大酒店客房管理系统</span>\n      </div>\n    </el-header>\n    <div class=\"welcome\">\n      <span>欢迎来到大连理工大学大黑山五星级大酒店客房管理系统!</span>\n    </div>\n    <div class=\"login_box\">\n      <!--表单提交区域-->\n      <el-form :rules=\"loginFormRules\" ref=\"loginFormRef\" label-width=\"0px\" class=\"login_form\" :model=\"loginForm\">\n        <!--用户名-->\n        <el-form-item prop=\"userName\">\n          <el-input v-model=\"loginForm.userName\" prefix-icon=\"iconfont icon-user\"></el-input>\n        </el-form-item>\n        <!--密码-->\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" v-model=\"loginForm.password\" prefix-icon=\"iconfont icon-3702mima\"></el-input>\n        </el-form-item>\n        <!--按钮区-->\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"login\" :loading=\"loginLoading\">登录</el-button>\n          <el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport global_ from './globalVar.vue'\nexport default {\n  name: 'loginPage',\n  data() {\n    return {\n      logoURL: require('../assets/logo.png'),\n      loginLoading: false, // 登录限制\n      loginForm: {\n        // 登录的表单数据的绑定对象\n        userName: '',\n        password: '',\n      },\n      loginFormRules: {\n        // 验证用户名是否合法\n        userName: [\n          { required: true, message: '请输入登录名称', trigger: 'blur' },\n        ],\n        // 验证密码是否合法\n        password: [\n          { required: true, message: '请输入登录密码', trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  methods: {\n    resetLoginForm() {\n      // 点击重置按钮,重置登录表单\n      // this.$refs[loginFormRef].resetFields()\n      this.$refs.loginFormRef.resetFields()\n    },\n    login() {\n      this.loginLoading = true\n      this.$refs.loginFormRef.validate(async (valid) => {\n        if (!valid) {\n          return (this.loginLoading = false)\n        }\n        const { data: res } = await this.$http.post(\n          global_.serverSrc + '/login',\n          this.loginForm\n        )\n        if (res.meta.status == 201) {\n          this.loginLoading = false\n          return this.$message.error('登录失败,没有查找到此用户')\n        } else if (res.meta.status == 202) {\n          this.loginLoading = false\n          return this.$message.error('登录失败,密码错误!')\n        }\n        this.$message.success('登录成功!')\n        // 1. 将登录成功之后的 token,保存到客户端的 sessionStorage(会话机制/只在当前页面生效)中 localStorage(持久话机制/关闭页面也不会忘记数据)\n        //   1.1 项目中除了登录之外的API接口,必须在登录之后才能访问\n        //   1.2 token 只应在当前网站打开期间生效, 所以将 token 保存在 sessionStorage中\n        window.sessionStorage.setItem('token', res.data.token)\n        // 2. 通过编程式路由导航跳转到后台主页\n        this.$router.push('homePage')\n        this.loginLoading = false\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  height: 100vh;\n  background-image: url('../assets/background.png');\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n}\n.el-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: rgb(40, 111, 183);\n  color: rgb(255, 255, 255);\n  font-size: 24px;\n  line-height: 72px;\n  > div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 60px;\n      height: 60px;\n      border-radius: 10%;\n    }\n    span {\n      margin-left: 8px;\n    }\n  }\n}\n.welcome {\n  position: absolute;\n  top: 35%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgb(255, 255, 255);\n  font-size: 36px;\n  line-height: 72px;\n  text-shadow: 0 0 5px rgb(40, 111, 183);\n}\n.login_box {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 450px;\n  height: 200px;\n  background-color: #fff;\n  border-style: solid;\n  border-width: thin;\n  border-color: rgb(235, 238, 245);\n  .login_form {\n    box-sizing: border-box;\n    position: absolute;\n    top: 10%;\n    width: 100%;\n    padding: 0 20px;\n  }\n  .btns {\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginPage.vue?vue&type=template&id=eb1fd538&scoped=true&\"\nimport script from \"./loginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./loginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginPage.vue?vue&type=style&index=0&id=eb1fd538&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb1fd538\",\n  null\n  \n)\n\nexport default component.exports"],"names":["serverSrc","SAVE_OK","DELETE_OK","UPDATE_OK","GET_OK","SAVE_ERR","DELETE_ERR","UPDATE_ERR","GET_ERR","render","staticRenderFns","component","_vm","this","_c","_self","staticClass","attrs","logoURL","_v","_m","ref","loginFormRules","loginForm","model","value","userName","callback","$$v","$set","expression","password","loginLoading","on","login","resetLoginForm","name","data","required","message","trigger","methods","global_","window"],"sourceRoot":""}