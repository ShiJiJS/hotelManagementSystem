"use strict";(self["webpackChunkvue_hotel_management_project"]=self["webpackChunkvue_hotel_management_project"]||[]).push([[703],{8763:function(e,o,r){r.d(o,{Z:function(){return C}});const t="http://localhost:8080",a=20011,i=20021,l=20031,m=20041,n=20010,s=20020,d=20030,c=20040;var h,p,u={serverSrc:t,SAVE_OK:a,DELETE_OK:i,UPDATE_OK:l,GET_OK:m,SAVE_ERR:n,DELETE_ERR:s,UPDATE_ERR:d,GET_ERR:c},g=u,b=r(3736),f=(0,b.Z)(g,h,p,!1,null,null,null),C=f.exports},5703:function(e,o,r){r.r(o),r.d(o,{default:function(){return h}});var t=function(){var e=this,o=e._self._c;return o("div",[o("el-breadcrumb",{staticStyle:{"font-size":"24px","margin-bottom":"12px"},attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[e._v("房客管理")]),o("el-breadcrumb-item",[e._v("换房管理")])],1),o("el-row",{staticStyle:{"margin-bottom":"12px"},attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[o("el-input",{staticStyle:{"line-height":"36px"},attrs:{placeholder:"请输入入住单号"},model:{value:e.searchForm.id,callback:function(o){e.$set(e.searchForm,"id",o)},expression:"searchForm.id"}})],1),o("el-col",{attrs:{span:3}},[o("el-input",{staticStyle:{"line-height":"36px"},attrs:{placeholder:"请输入客房类型"},model:{value:e.searchForm.roomType,callback:function(o){e.$set(e.searchForm,"roomType",o)},expression:"searchForm.roomType"}})],1),o("el-col",{attrs:{span:4}},[o("el-input",{staticStyle:{"line-height":"36px"},attrs:{placeholder:"请输入原客房编号"},model:{value:e.searchForm.originalRoomNumber,callback:function(o){e.$set(e.searchForm,"originalRoomNumber",o)},expression:"searchForm.originalRoomNumber"}})],1),o("el-col",{attrs:{span:4}},[o("el-input",{staticStyle:{"line-height":"36px"},attrs:{placeholder:"请输入现客房编号"},model:{value:e.searchForm.afterRoomNumber,callback:function(o){e.$set(e.searchForm,"afterRoomNumber",o)},expression:"searchForm.afterRoomNumber"}})],1),o("el-col",{attrs:{span:4}},[o("el-input",{staticStyle:{"line-height":"36px"},attrs:{placeholder:"请输入入住人"},model:{value:e.searchForm.personName,callback:function(o){e.$set(e.searchForm,"personName",o)},expression:"searchForm.personName"}})],1),o("el-col",{attrs:{span:1}},[o("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.conditionQuery}})],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.addroomChangeDialogVisible=!0}}},[e._v(" 添加换房 ")])],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"danger"},on:{click:function(o){e.massDeletionDialogVisible=!0}}},[e._v(" 批量删除 ")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"id",label:"入住单号",width:"180"}}),o("el-table-column",{attrs:{prop:"roomType",label:"客房类型"}}),o("el-table-column",{attrs:{prop:"originalRoomNumber",label:"原客房编号",width:"180"}}),o("el-table-column",{attrs:{prop:"afterRoomNumber",label:"更换后客房编号",width:"180"}}),o("el-table-column",{attrs:{prop:"personName",label:"入住人",width:"180"}}),o("el-table-column",{attrs:{prop:"phoneNumber",label:"联系电话"}}),o("el-table-column",{attrs:{fixed:"right",prop:"arriveTime",label:"抵店时间",width:"180"}}),o("el-table-column",{attrs:{fixed:"right",prop:"leaveTime",label:"离店时间",width:"180"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(r){return[o("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.showEditDialog(r.row.id)}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.showDeleteDialog(r.row.id)}}},[e._v("删除")])]}}])})],1),o("el-dialog",{attrs:{title:"添加换房",visible:e.addroomChangeDialogVisible,width:"30%",center:""},on:{"update:visible":function(o){e.addroomChangeDialogVisible=o}}},[o("el-form",{ref:"addroomChangeFormRef",attrs:{model:e.addroomChangeForm,rules:e.roomChangeRules,"label-width":"140px"}},[o("el-form-item",{attrs:{label:"入住单号",prop:"id"}},[o("el-select",{attrs:{placeholder:"请选择入住单号"},on:{change:e.idSelectChange},model:{value:e.addroomChangeForm.id,callback:function(o){e.$set(e.addroomChangeForm,"id",o)},expression:"addroomChangeForm.id"}},e._l(e.checkInInfos,(function(e){return o("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"原客房编号",prop:"originalRoomNumber"}},[o("el-input",{model:{value:e.addroomChangeForm.originalRoomNumber,callback:function(o){e.$set(e.addroomChangeForm,"originalRoomNumber",o)},expression:"addroomChangeForm.originalRoomNumber"}})],1),o("el-form-item",{attrs:{label:"更换后客房编号",prop:"afterRoomNumber"}},[o("el-select",{attrs:{placeholder:"请选择客房编号"},on:{change:e.roomIdSelectChangeAdd},model:{value:e.addroomChangeForm.afterRoomNumber,callback:function(o){e.$set(e.addroomChangeForm,"afterRoomNumber",o)},expression:"addroomChangeForm.afterRoomNumber"}},e._l(e.rooms,(function(e){return o("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"客房类型",prop:"roomType"}},[o("el-input",{attrs:{disabled:""},model:{value:e.addroomChangeForm.roomType,callback:function(o){e.$set(e.addroomChangeForm,"roomType",o)},expression:"addroomChangeForm.roomType"}})],1),o("el-form-item",{attrs:{label:"标准价",prop:"standardPrice"}},[o("el-input",{attrs:{disabled:""},model:{value:e.addroomChangeForm.standardPrice,callback:function(o){e.$set(e.addroomChangeForm,"standardPrice",o)},expression:"addroomChangeForm.standardPrice"}})],1),o("el-form-item",{attrs:{label:"折后价",prop:"discountPrice"}},[o("el-input",{attrs:{disabled:""},model:{value:e.addroomChangeForm.discountPrice,callback:function(o){e.$set(e.addroomChangeForm,"discountPrice",o)},expression:"addroomChangeForm.discountPrice"}})],1),o("el-form-item",{attrs:{label:"押金",prop:"deposit"}},[o("el-input",{model:{value:e.addroomChangeForm.deposit,callback:function(o){e.$set(e.addroomChangeForm,"deposit",e._n(o))},expression:"addroomChangeForm.deposit"}})],1),o("el-form-item",{attrs:{label:"入住人",prop:"personName"}},[o("el-input",{model:{value:e.addroomChangeForm.personName,callback:function(o){e.$set(e.addroomChangeForm,"personName",o)},expression:"addroomChangeForm.personName"}})],1),o("el-form-item",{attrs:{label:"证件类型",prop:"certificateCategory"}},[o("el-input",{model:{value:e.addroomChangeForm.certificateCategory,callback:function(o){e.$set(e.addroomChangeForm,"certificateCategory",o)},expression:"addroomChangeForm.certificateCategory"}})],1),o("el-form-item",{attrs:{label:"证件号码",prop:"certificateNumber"}},[o("el-input",{model:{value:e.addroomChangeForm.certificateNumber,callback:function(o){e.$set(e.addroomChangeForm,"certificateNumber",o)},expression:"addroomChangeForm.certificateNumber"}})],1),o("el-form-item",{attrs:{label:"电话号码",prop:"phoneNumber"}},[o("el-input",{model:{value:e.addroomChangeForm.phoneNumber,callback:function(o){e.$set(e.addroomChangeForm,"phoneNumber",o)},expression:"addroomChangeForm.phoneNumber"}})],1),o("el-form-item",{attrs:{label:"抵店时间",prop:"arriveTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.addroomChangeForm.arriveTime,callback:function(o){e.$set(e.addroomChangeForm,"arriveTime",o)},expression:"addroomChangeForm.arriveTime"}})],1),o("el-form-item",{attrs:{label:"离店时间",prop:"leaveTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.addroomChangeForm.leaveTime,callback:function(o){e.$set(e.addroomChangeForm,"leaveTime",o)},expression:"addroomChangeForm.leaveTime"}})],1),o("el-form-item",{attrs:{label:"入住人数",prop:"numberOfOccupants"}},[o("el-input",{model:{value:e.addroomChangeForm.numberOfOccupants,callback:function(o){e.$set(e.addroomChangeForm,"numberOfOccupants",o)},expression:"addroomChangeForm.numberOfOccupants"}})],1),o("el-form-item",{attrs:{label:"操作员",prop:"operator"}},[o("el-input",{model:{value:e.addroomChangeForm.operator,callback:function(o){e.$set(e.addroomChangeForm,"operator",o)},expression:"addroomChangeForm.operator"}})],1),o("el-form-item",{attrs:{label:"会员编号",prop:"vipId"}},[o("el-input",{model:{value:e.addroomChangeForm.vipId,callback:function(o){e.$set(e.addroomChangeForm,"vipId",o)},expression:"addroomChangeForm.vipId"}})],1),o("el-form-item",{attrs:{label:"会员价",prop:"vipPrice"}},[o("el-input",{model:{value:e.addroomChangeForm.vipPrice,callback:function(o){e.$set(e.addroomChangeForm,"vipPrice",o)},expression:"addroomChangeForm.vipPrice"}})],1),o("el-form-item",{attrs:{label:"提供早餐",prop:"breakfast"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addroomChangeForm.breakfast,callback:function(o){e.$set(e.addroomChangeForm,"breakfast",o)},expression:"addroomChangeForm.breakfast"}},[o("el-option",{attrs:{label:"是",value:"true"}}),o("el-option",{attrs:{label:"否",value:"false"}})],1)],1),o("el-form-item",{attrs:{label:"定时叫醒",prop:"wakeUp"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addroomChangeForm.wakeUp,callback:function(o){e.$set(e.addroomChangeForm,"wakeUp",o)},expression:"addroomChangeForm.wakeUp"}},[o("el-option",{attrs:{label:"是",value:"true"}}),o("el-option",{attrs:{label:"否",value:"false"}})],1)],1),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.addroomChangeForm.remark,callback:function(o){e.$set(e.addroomChangeForm,"remark",o)},expression:"addroomChangeForm.remark"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(o){e.addroomChangeDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addroomChange}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"修改换房",visible:e.editroomChangeDialogVisible,width:"30%",center:""},on:{"update:visible":function(o){e.editroomChangeDialogVisible=o}}},[o("el-form",{ref:"editroomChangeFormRef",attrs:{model:e.editroomChangeForm,rules:e.roomChangeRules,"label-width":"140px"}},[o("el-form-item",{attrs:{label:"入住单号",prop:"id"}},[o("el-select",{attrs:{placeholder:"请选择入住单号",disabled:""},on:{change:e.idSelectChange},model:{value:e.editroomChangeForm.id,callback:function(o){e.$set(e.editroomChangeForm,"id",o)},expression:"editroomChangeForm.id"}},e._l(e.checkInInfos,(function(e){return o("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"原客房编号",prop:"originalRoomNumber"}},[o("el-input",{attrs:{disabled:""},model:{value:e.editroomChangeForm.originalRoomNumber,callback:function(o){e.$set(e.editroomChangeForm,"originalRoomNumber",o)},expression:"editroomChangeForm.originalRoomNumber"}})],1),o("el-form-item",{attrs:{label:"更换后客房编号",prop:"afterRoomNumber"}},[o("el-select",{attrs:{placeholder:"请选择客房编号"},on:{change:e.roomIdSelectChangeEdit},model:{value:e.editroomChangeForm.afterRoomNumber,callback:function(o){e.$set(e.editroomChangeForm,"afterRoomNumber",o)},expression:"editroomChangeForm.afterRoomNumber"}},e._l(e.rooms,(function(e){return o("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"客房类型",prop:"roomType"}},[o("el-input",{model:{value:e.editroomChangeForm.roomType,callback:function(o){e.$set(e.editroomChangeForm,"roomType",o)},expression:"editroomChangeForm.roomType"}})],1),o("el-form-item",{attrs:{label:"标准价",prop:"standardPrice"}},[o("el-input",{model:{value:e.editroomChangeForm.standardPrice,callback:function(o){e.$set(e.editroomChangeForm,"standardPrice",o)},expression:"editroomChangeForm.standardPrice"}})],1),o("el-form-item",{attrs:{label:"折后价",prop:"discountPrice"}},[o("el-input",{model:{value:e.editroomChangeForm.discountPrice,callback:function(o){e.$set(e.editroomChangeForm,"discountPrice",o)},expression:"editroomChangeForm.discountPrice"}})],1),o("el-form-item",{attrs:{label:"押金",prop:"deposit"}},[o("el-input",{model:{value:e.editroomChangeForm.deposit,callback:function(o){e.$set(e.editroomChangeForm,"deposit",e._n(o))},expression:"editroomChangeForm.deposit"}})],1),o("el-form-item",{attrs:{label:"入住人",prop:"personName"}},[o("el-input",{model:{value:e.editroomChangeForm.personName,callback:function(o){e.$set(e.editroomChangeForm,"personName",o)},expression:"editroomChangeForm.personName"}})],1),o("el-form-item",{attrs:{label:"证件类型",prop:"certificateCategory"}},[o("el-input",{model:{value:e.editroomChangeForm.certificateCategory,callback:function(o){e.$set(e.editroomChangeForm,"certificateCategory",o)},expression:"editroomChangeForm.certificateCategory"}})],1),o("el-form-item",{attrs:{label:"证件号码",prop:"certificateNumber"}},[o("el-input",{model:{value:e.editroomChangeForm.certificateNumber,callback:function(o){e.$set(e.editroomChangeForm,"certificateNumber",o)},expression:"editroomChangeForm.certificateNumber"}})],1),o("el-form-item",{attrs:{label:"电话号码",prop:"phoneNumber"}},[o("el-input",{model:{value:e.editroomChangeForm.phoneNumber,callback:function(o){e.$set(e.editroomChangeForm,"phoneNumber",o)},expression:"editroomChangeForm.phoneNumber"}})],1),o("el-form-item",{attrs:{label:"抵店时间",prop:"arriveTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.editroomChangeForm.arriveTime,callback:function(o){e.$set(e.editroomChangeForm,"arriveTime",o)},expression:"editroomChangeForm.arriveTime"}})],1),o("el-form-item",{attrs:{label:"离店时间",prop:"leaveTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.editroomChangeForm.leaveTime,callback:function(o){e.$set(e.editroomChangeForm,"leaveTime",o)},expression:"editroomChangeForm.leaveTime"}})],1),o("el-form-item",{attrs:{label:"入住人数",prop:"numberOfOccupants"}},[o("el-input",{model:{value:e.editroomChangeForm.numberOfOccupants,callback:function(o){e.$set(e.editroomChangeForm,"numberOfOccupants",o)},expression:"editroomChangeForm.numberOfOccupants"}})],1),o("el-form-item",{attrs:{label:"操作员",prop:"operator"}},[o("el-input",{model:{value:e.editroomChangeForm.operator,callback:function(o){e.$set(e.editroomChangeForm,"operator",o)},expression:"editroomChangeForm.operator"}})],1),o("el-form-item",{attrs:{label:"会员编号",prop:"vipId"}},[o("el-input",{model:{value:e.editroomChangeForm.vipId,callback:function(o){e.$set(e.editroomChangeForm,"vipId",o)},expression:"editroomChangeForm.vipId"}})],1),o("el-form-item",{attrs:{label:"会员价",prop:"vipPrice"}},[o("el-input",{model:{value:e.editroomChangeForm.vipPrice,callback:function(o){e.$set(e.editroomChangeForm,"vipPrice",o)},expression:"editroomChangeForm.vipPrice"}})],1),o("el-form-item",{attrs:{label:"提供早餐",prop:"breakfast"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editroomChangeForm.breakfast,callback:function(o){e.$set(e.editroomChangeForm,"breakfast",o)},expression:"editroomChangeForm.breakfast"}},[o("el-option",{attrs:{label:"是",value:"true"}}),o("el-option",{attrs:{label:"否",value:"false"}})],1)],1),o("el-form-item",{attrs:{label:"定时叫醒",prop:"wakeUp"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editroomChangeForm.wakeUp,callback:function(o){e.$set(e.editroomChangeForm,"wakeUp",o)},expression:"editroomChangeForm.wakeUp"}},[o("el-option",{attrs:{label:"是",value:"true"}}),o("el-option",{attrs:{label:"否",value:"false"}})],1)],1),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.editroomChangeForm.remark,callback:function(o){e.$set(e.editroomChangeForm,"remark",o)},expression:"editroomChangeForm.remark"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(o){e.editroomChangeDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.editroomChange}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"删除",visible:e.deletionDialogVisible,width:"30%",center:""},on:{"update:visible":function(o){e.deletionDialogVisible=o}}},[o("span",[e._v("确定要删除该项目吗？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(o){e.deletionDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"danger"},on:{click:e.deleteById}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"批量删除",visible:e.massDeletionDialogVisible,width:"30%",center:""},on:{"update:visible":function(o){e.massDeletionDialogVisible=o}}},[o("span",[e._v("确定要批量删除选中的项目吗？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(o){e.massDeletionDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"danger"},on:{click:e.massDeletion}},[e._v("确 定")])],1)])],1)},a=[],i=(r(1703),r(6265)),l=r.n(i),m=r(8763),n={mounted(){l()({method:"post",url:m.Z.serverSrc+"/login/currentUser",headers:{"Content-Type":"text/plain"},data:window.sessionStorage.getItem("token")}).then((e=>{this.currentUserName=e.data.userName,this.currentUserType=e.data.userType,"管理员"!=this.currentUserType&&"前台人员"!=this.currentUserType&&(alert(this.currentUserType+"没有此权限"),this.$router.push("/homePage"))})),this.getAllRoomChangeInfos(),this.getAllRooms(),this.getAllCheckInInfos()},methods:{conditionQuery(){var e=!0;for(let r in this.searchForm)""!=this.searchForm[r]&&(e=!1);if(e)this.getAllRoomChangeInfos();else{var o=this;l()({method:"post",url:m.Z.serverSrc+"/roomChangeInfos/search",headers:{"Content-Type":"application/json"},data:JSON.stringify(o.searchForm)}).then((e=>{o.tableData=e.data.data}))}},getAllRoomChangeInfos(){var e=this;l().get(m.Z.serverSrc+"/roomChangeInfos").then((o=>{o.data.code==m.Z.GET_OK?e.tableData=o.data.data:alert(o.data.msg)}))},getAllRooms(){var e=this;l().get(m.Z.serverSrc+"/rooms").then((o=>{o.data.code==m.Z.GET_OK?e.rooms=o.data.data:alert(o.data.msg)}))},getAllCheckInInfos(){var e=this;l().get(m.Z.serverSrc+"/checkInInfos").then((o=>{o.data.code==m.Z.GET_OK?e.checkInInfos=o.data.data:alert(o.data.msg)}))},showEditDialog(e){var o=this;l().get(m.Z.serverSrc+"/roomChangeInfos/"+e).then((e=>{o.editroomChangeForm=e.data.data,1==e.data.data.breakfast?o.editroomChangeForm.breakfast="是":0==e.data.data.breakfast&&(o.editroomChangeForm.breakfast="否"),1==e.data.data.wakeUp?o.editroomChangeForm.wakeUp="是":0==e.data.data.wakeUp&&(o.editroomChangeForm.wakeUp="否")})),this.editroomChangeDialogVisible=!0},handleSelectionChange(e){this.multipleSelection=e},showDeleteDialog(e){this.deletionDialogVisible=!0,this.deleteId=e},cancelDeleteDialog(){this.deleteId=0,this.deletionDialogVisible=!1},deleteByIds(){for(var e=m.Z.serverSrc+"/roomChangeInfos/",o=0;o<this.multipleSelection.length;o++)o==this.multipleSelection.length-1?e+=this.multipleSelection[o].id:e=e+this.multipleSelection[o].id+",";l()["delete"](e).then((e=>{e.data.code==m.Z.DELETE_ERR&&alert("删除失败")})),this.deletionDialogVisible=!1,this.getAllRoomChangeInfos(),window.location.reload()},deleteById(){var e=m.Z.serverSrc+"/roomChangeInfos/";e+=this.deleteId,l()["delete"](e).then((e=>{e.data.code==m.Z.DELETE_ERR&&alert("删除失败")})),this.getAllRoomChangeInfos(),window.location.reload()},massDeletion(){this.deleteByIds(),this.massDeletionDialogVisible=!1},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){console.log(`当前页: ${e}`)},addroomChange(){this.$refs.addroomChangeFormRef.validate((e=>{if(!e)return console.log("error submit!!"),!1;var o=this;"是"==this.addroomChangeForm.breakfast?this.addroomChangeForm.breakfast=!0:"否"==this.addroomChangeForm.breakfast&&(this.addroomChangeForm.breakfast=!1),"是"==this.addroomChangeForm.wakeUp?this.addroomChangeForm.wakeUp=!0:"否"==this.addroomChangeForm.wakeUp&&(this.addroomChangeForm.wakeUp=!1),l()({method:"post",url:m.Z.serverSrc+"/roomChangeInfos",headers:{"Content-Type":"application/json"},data:JSON.stringify(o.addroomChangeForm)}).then((e=>{e.data.code==m.Z.SAVE_ERR&&alert("添加失败")})),o.getAllRoomChangeInfos(),window.location.reload(),this.addroomChangeDialogVisible=!1}))},editroomChange(){this.$refs.editroomChangeFormRef.validate((e=>{if(!e)return console.log("error submit!!"),!1;var o=this;"是"==this.editroomChangeForm.breakfast?this.editroomChangeForm.breakfast=!0:"否"==this.editroomChangeForm.breakfast&&(this.editroomChangeForm.breakfast=!1),"是"==this.editroomChangeForm.wakeUp?this.editroomChangeForm.wakeUp=!0:"否"==this.editroomChangeForm.wakeUp&&(this.editroomChangeForm.wakeUp=!1),l()({method:"put",url:m.Z.serverSrc+"/roomChangeInfos",headers:{"Content-Type":"application/json"},data:JSON.stringify(o.editroomChangeForm)}).then((e=>{e.data.code==m.Z.SAVE_ERR&&alert("添加失败")})),this.getAllRoomChangeInfos(),window.location.reload(),this.editroomChangeDialogVisible=!1}))},roomIdSelectChangeAdd(){for(var e in this.rooms)this.rooms[e].id==this.addroomChangeForm.afterRoomNumber&&(this.$set(this.addroomChangeForm,"roomType",this.rooms[e].type),this.$set(this.addroomChangeForm,"standardPrice",this.rooms[e].standardPrice),this.$set(this.addroomChangeForm,"discountPrice",this.rooms[e].discountPrice),this.$set(this.addroomChangeForm,"vipPrice",this.rooms[e].vipUserPrice))},roomIdSelectChangeEdit(){for(var e in this.rooms)this.rooms[e].id==this.editroomChangeForm.afterRoomNumber&&(this.$set(this.editroomChangeForm,"roomType",this.rooms[e].type),this.$set(this.editroomChangeForm,"standardPrice",this.rooms[e].standardPrice),this.$set(this.editroomChangeForm,"discountPrice",this.rooms[e].discountPrice),this.$set(this.editroomChangeForm,"vipPrice",this.rooms[e].vipUserPrice))},idSelectChange(){for(var e in this.checkInInfos)this.checkInInfos[e].id==this.addroomChangeForm.id&&(this.$set(this.addroomChangeForm,"originalRoomNumber",this.checkInInfos[e].roomNumber),this.$set(this.addroomChangeForm,"deposit",this.checkInInfos[e].deposit),this.$set(this.addroomChangeForm,"personName",this.checkInInfos[e].personName),this.$set(this.addroomChangeForm,"certificateCategory",this.checkInInfos[e].certificateCategory),this.$set(this.addroomChangeForm,"certificateNumber",this.checkInInfos[e].certificateNumber),this.$set(this.addroomChangeForm,"phoneNumber",this.checkInInfos[e].phoneNumber),this.$set(this.addroomChangeForm,"arriveTime",this.checkInInfos[e].arriveTime),this.$set(this.addroomChangeForm,"leaveTime",this.checkInInfos[e].leaveTime),this.$set(this.addroomChangeForm,"numberOfOccupants",this.checkInInfos[e].numberOfOccupants),this.$set(this.addroomChangeForm,"operator",this.checkInInfos[e].operator),this.$set(this.addroomChangeForm,"vipId",this.checkInInfos[e].vipId),this.$set(this.addroomChangeForm,"vipPrice",this.checkInInfos[e].vipPrice),1==this.checkInInfos[e].breakfast?this.$set(this.addroomChangeForm,"breakfast","是"):0==this.checkInInfos[e].breakfast&&this.$set(this.addroomChangeForm,"breakfast","否"),1==this.checkInInfos[e].wakeUp?this.$set(this.addroomChangeForm,"wakeUp","是"):0==this.checkInInfos[e].wakeUp&&this.$set(this.addroomChangeForm,"wakeUp","否"),this.$set(this.addroomChangeForm,"remark",this.checkInInfos[e].remark))}},data(){var e=(e,o,r)=>{for(var t in this.tableData)o==this.tableData[t].id&&r(new Error("入住单号重复"));r()};return{massDeletionDialogVisible:!1,deletionDialogVisible:!1,addroomChangeDialogVisible:!1,addroomChangeForm:{id:"",originalRoomNumber:"",afterRoomNumber:"",roomType:"",standardPrice:"",discountPrice:"",deposit:"",personName:"",certificateCategory:"",certificateNumber:"",phoneNumber:"",arriveTime:"",leaveTime:"",numberOfOccupants:"",operator:"",vipId:"",vipPrice:"",breakfast:"",wakeUp:"",remark:""},editroomChangeDialogVisible:!1,editroomChangeForm:{id:"",originalRoomNumber:"",afterRoomNumber:"",roomType:"",standardPrice:"",discountPrice:"",deposit:"",personName:"",certificateCategory:"",certificateNumber:"",phoneNumber:"",arriveTime:"",leaveTime:"",numberOfOccupants:"",operator:"",vipId:"",vipPrice:"",breakfast:"",wakeUp:"",remark:""},roomChangeRules:{id:[{required:!0,message:"请输入入住单号",trigger:"blur"},{validator:e,trigger:"blur"}],originalRoomNumber:[{required:!0,message:"请输入原客房编号",trigger:"blur"}],afterRoomNumber:[{required:!0,message:"请输入更换后客房编号",trigger:"blur"}],personName:[{required:!0,message:"请输入入住人",trigger:"blur"}],certificateCategory:[{required:!0,message:"请输入证件类型",trigger:"blur"}],certificateNumber:[{required:!0,message:"请输入证件号码",trigger:"blur"}],phoneNumber:[{required:!0,message:"请输入电话号码",trigger:"blur"}],arriveTime:[{required:!0,message:"请输入抵店时间",trigger:"blur"}],leaveTime:[{required:!0,message:"请输入离店时间",trigger:"blur"}],numberOfOccupants:[{required:!0,message:"请输入入住人数",trigger:"blur"}]},tableData:[],input:"",currentPage4:0,deleteId:0,multipleSelection:[],rooms:[],checkInInfos:[],searchForm:{}}}},s=n,d=r(3736),c=(0,d.Z)(s,t,a,!1,null,null,null),h=c.exports}}]);
//# sourceMappingURL=703.c2c3da0e.js.map