{"version":3,"file":"js/293.37184831.js","mappings":"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","sources":["webpack://vue-hotel-management-project/src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue","webpack://vue-hotel-management-project/./src/components/globalVar.vue?498f","webpack://vue-hotel-management-project/./src/components/reportManagement/receiptsReportManagement.vue","webpack://vue-hotel-management-project/src/components/reportManagement/receiptsReportManagement.vue","webpack://vue-hotel-management-project/./src/components/reportManagement/receiptsReportManagement.vue?63d9","webpack://vue-hotel-management-project/./src/components/reportManagement/receiptsReportManagement.vue?da63"],"sourcesContent":["<script>\r\nconst serverSrc = 'http://localhost:8080'\r\nconst SAVE_OK = 20011\r\nconst DELETE_OK = 20021\r\nconst UPDATE_OK = 20031\r\nconst GET_OK = 20041\r\n\r\nconst SAVE_ERR = 20010\r\nconst DELETE_ERR = 20020\r\nconst UPDATE_ERR = 20030\r\nconst GET_ERR = 20040\r\n\r\nexport default {\r\n  serverSrc,\r\n  SAVE_OK,\r\n  DELETE_OK,\r\n  UPDATE_OK,\r\n  GET_OK,\r\n  SAVE_ERR,\r\n  DELETE_ERR,\r\n  UPDATE_ERR,\r\n  GET_ERR,\r\n}\r\n</script>","var render, staticRenderFns\nimport script from \"./globalVar.vue?vue&type=script&lang=js&\"\nexport * from \"./globalVar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./globalVar.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{staticStyle:{\"font-size\":\"24px\",\"margin-bottom\":\"12px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"报表管理\")]),_c('el-breadcrumb-item',[_vm._v(\"财务进账报表\")])],1),_c('el-row',{staticStyle:{\"margin-bottom\":\"12px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.checkInReportDialogVisible = true}}},[_vm._v(\" 打印报表 \")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"入住单号\"}}),_c('el-table-column',{attrs:{\"prop\":\"roomNumber\",\"label\":\"客房编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"roomType\",\"label\":\"客房类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"personName\",\"label\":\"入住人\"}}),_c('el-table-column',{attrs:{\"prop\":\"vipID\",\"label\":\"会员编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"actualReceivable\",\"label\":\"付款金额\"}}),_c('el-table-column',{attrs:{\"prop\":\"paymentMethod\",\"label\":\"进账方式\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"进账类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"进账时间\"}})],1),_c('el-dialog',{attrs:{\"title\":\"打印财务进账报表\",\"visible\":_vm.receiptsReportDialogVisible,\"fullscreen\":\"\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.receiptsReportDialogVisible=$event}}},[_c('el-table',{staticStyle:{\"margin-bottom\":\"24px\",\"width\":\"80% text-align: -webkit-center\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"入住单号\"}}),_c('el-table-column',{attrs:{\"prop\":\"roomNumber\",\"label\":\"客房编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"roomType\",\"label\":\"客房类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"personName\",\"label\":\"入住人\"}}),_c('el-table-column',{attrs:{\"prop\":\"vipID\",\"label\":\"会员编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"actualReceivable\",\"label\":\"付款金额\"}}),_c('el-table-column',{attrs:{\"prop\":\"paymentMethod\",\"label\":\"进账方式\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"进账类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"进账时间\"}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.receiptsReportDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.printpage}},[_vm._v(\"打 印\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"font-size: 24px; margin-bottom: 12px;\">\r\n      <el-breadcrumb-item>报表管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>财务进账报表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-row :gutter=\"20\" style=\"margin-bottom: 12px;\">\r\n      <!--       <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n        <el-col :span=\"11\">\r\n          <el-form-item label=\"起始日期\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.startDate\" style=\"width: 100%;\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"11\">\r\n          <el-form-item label=\"结束日期\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.endDate\" style=\"width: 100%;\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form> -->\r\n      <el-col :span=\"2\">\r\n        <el-button type=\"primary\" @click=\"checkInReportDialogVisible = true\">\r\n          打印报表\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"入住单号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"roomNumber\" label=\"客房编号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"roomType\" label=\"客房类型\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"personName\" label=\"入住人\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"vipID\" label=\"会员编号\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"actualReceivable\" label=\"付款金额\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"paymentMethod\" label=\"进账方式\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"type\" label=\"进账类型\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"time\" label=\"进账时间\">\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--     <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage4\" :page-sizes=\"[20, 50, 100, 200]\" :page-size=\"20\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\" :total=\"400\" style=\"margin-top: 12px;text-align: center;\">\r\n    </el-pagination> -->\r\n    <el-dialog title=\"打印财务进账报表\" :visible.sync=\"receiptsReportDialogVisible\" fullscreen center>\r\n      <el-table :data=\"tableData\" border style=\"margin-bottom: 24px;  width: 80% text-align: -webkit-center\">\r\n        <el-table-column prop=\"id\" label=\"入住单号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"roomNumber\" label=\"客房编号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"roomType\" label=\"客房类型\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"personName\" label=\"入住人\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"vipID\" label=\"会员编号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"actualReceivable\" label=\"付款金额\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"paymentMethod\" label=\"进账方式\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"type\" label=\"进账类型\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"time\" label=\"进账时间\">\r\n        </el-table-column>\r\n      </el-table>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"receiptsReportDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"printpage\">打 印</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport global_ from '../globalVar.vue'\r\nexport default {\r\n  mounted() {\r\n    axios({\r\n      method: 'post',\r\n      url: global_.serverSrc + '/login/currentUser',\r\n      headers: {\r\n        'Content-Type': 'text/plain',\r\n      },\r\n      data: window.sessionStorage.getItem('token'),\r\n    }).then((response) => {\r\n      this.currentUserName = response.data.userName\r\n      this.currentUserType = response.data.userType\r\n      if (this.currentUserType != '管理员' && this.currentUserType != '经理') {\r\n        alert(this.currentUserType + '没有此权限')\r\n        this.$router.push('/homePage')\r\n      }\r\n    })\r\n    this.getTableData()\r\n  },\r\n  methods: {\r\n    //获取所有信息\r\n    getTableData() {\r\n      axios.get(global_.serverSrc + '/checkOutInfos').then((resopnse) => {\r\n        if (resopnse.data.code == global_.GET_OK) {\r\n          this.checkOutInfos = resopnse.data.data\r\n        } else {\r\n          alert(resopnse.data.msg)\r\n        }\r\n        axios.get(global_.serverSrc + '/checkInInfos').then((resopnse) => {\r\n          if (resopnse.data.code == global_.GET_OK) {\r\n            this.checkInInfos = resopnse.data.data\r\n          } else {\r\n            alert(resopnse.data.msg)\r\n          }\r\n          this.setTableData()\r\n        })\r\n      })\r\n    },\r\n    setTableData() {\r\n      for (var i in this.checkOutInfos) {\r\n        //console.log('进入第一层循环')\r\n        for (var j in this.checkInInfos) {\r\n          //console.log('进入第二层循环')\r\n          if (this.checkOutInfos[i].id == this.checkInInfos[i].id) {\r\n            var data = {}\r\n            //console.log('找到相等ID')\r\n            data.id = this.checkInInfos[i].id\r\n            data.roomNumber = this.checkInInfos[i].roomNumber\r\n            data.roomType = this.checkInInfos[i].roomType\r\n            data.personName = this.checkInInfos[i].personName\r\n            data.vipId = this.checkInInfos[i].vipId\r\n            data.actualReceivable = this.checkOutInfos[j].actualReceivable\r\n            data.paymentMethod = this.checkOutInfos[j].paymentMethod\r\n            data.time = this.checkInInfos[i].leaveTime\r\n            this.tableData.push(data)\r\n          }\r\n        }\r\n      }\r\n      /*       console.log(this.checkOutInfos)\r\n      console.log(this.checkInInfos)\r\n      console.log(this.tableData) */\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`)\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`)\r\n    },\r\n    printpage() {\r\n      window.print()\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      receiptsReportDialogVisible: false,\r\n      form: {\r\n        startDate: '',\r\n        endDate: '',\r\n      },\r\n      tableData: [],\r\n      checkOutInfos: [],\r\n      checkInInfos: [],\r\n      currentPage4: 0,\r\n      showClose: true,\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./receiptsReportManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./receiptsReportManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./receiptsReportManagement.vue?vue&type=template&id=45287858&\"\nimport script from \"./receiptsReportManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./receiptsReportManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["serverSrc","SAVE_OK","DELETE_OK","UPDATE_OK","GET_OK","SAVE_ERR","DELETE_ERR","UPDATE_ERR","GET_ERR","render","staticRenderFns","component","_vm","this","_c","_self","staticStyle","attrs","_v","on","$event","checkInReportDialogVisible","tableData","receiptsReportDialogVisible","staticClass","slot","printpage","mounted","axios","method","url","headers","data","then","response","alert","methods","getTableData","setTableData","handleSizeChange","console","handleCurrentChange","window","form","startDate","endDate","checkOutInfos","checkInInfos","currentPage4","showClose"],"sourceRoot":""}